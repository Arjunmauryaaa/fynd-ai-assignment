<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
</head>
<body>
  <h2>Admin Dashboard</h2>
  <button onclick="loadReviews()">Refresh</button>

  <div id="reviews"></div>

 <script>
  const API_URL = "https://fynd-ai-assignment.onrender.com";

  function submitReview() {
    fetch(`${API_URL}/submit-review`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        rating: parseInt(document.getElementById("rating").value),
        review: document.getElementById("review").value
      })
    })
    .then(async res => {
      const data = await res.json();
      if (!res.ok) {
        throw new Error(data.detail || JSON.stringify(data));
      }
      return data;
    })
    .then(data => {
      document.getElementById("response").innerText = data.ai_response;
    })
    .catch(err => {
      console.error(err);
      document.getElementById("response").innerText =
        "Backend error: " + err.message;
    });
  }
</script>

</body>
</html>
